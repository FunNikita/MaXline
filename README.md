# üéì –¶–∏—Ñ—Ä–æ–≤–æ–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç (MAX mini-app + backend)

> üìÑ **–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞:**  
> [–û—Ç–∫—Ä—ã—Ç—å –≤ –æ–±–ª–∞–∫–µ](https://vk.cc/cRk0UX)

–ï–¥–∏–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –≤—É–∑–∞ –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ **MAX**:

- üì± –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤,
- üß† backend –Ω–∞ Node.js + TypeScript,
- ü§ñ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–æ—Ç–æ–º –≤ MAX,
- üíæ MySQL –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö,
- üê≥ –≤—Å—ë —É–ø–∞–∫–æ–≤–∞–Ω–æ –≤ Docker –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `docker-compose`.

---

## üöÄ 1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç

**–¶–µ–ª—å** ‚Äî —Å–æ–±—Ä–∞—Ç—å –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ —Å–µ—Ä–≤–∏—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ã—á–Ω–æ –∂–∏–≤—É—Ç –≤ –¥–µ—Å—è—Ç–∫–µ —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –≤—É–∑–∞.

–û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏:

- üßæ **–°–ø—Ä–∞–≤–∫–∏**
  - –∑–∞–ø—Ä–æ—Å ¬´—Å–ø—Ä–∞–≤–∫–∏ –æ–± –æ–±—É—á–µ–Ω–∏–∏¬ª, –¥–ª—è –≤–æ–µ–Ω–∫–æ–º–∞—Ç–∞, –æ–± —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ –∏ –¥—Ä.;
  - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤: ¬´–Ω–æ–≤–∞—è¬ª, ¬´–≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ¬ª, ¬´–≥–æ—Ç–æ–≤–∞¬ª –∏ —Ç.–¥.
- üîë **–î–æ—Å—Ç—É–ø—ã**
  - –∑–∞—è–≤–∫–∏ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ IT-—Å–∏—Å—Ç–µ–º–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, GitLab, –ø–∞—Ä–∫–æ–≤–∫–∞ –∏ —Ç.–ø.);
  - –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å—ã.
- üé´ **–ü—Ä–æ–ø—É—Å–∫–∞**
  - —Å—Ç—É–¥–µ–Ω—á–µ—Å–∫–∏–π QR-–ø—Ä–æ–ø—É—Å–∫;
  - –≥–æ—Å—Ç–µ–≤—ã–µ –ø—Ä–æ–ø—É—Å–∫–∞ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –≤—Ä–µ–º–µ–Ω–µ–º –¥–µ–π—Å—Ç–≤–∏—è;
  - –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ö–æ–¥–æ–≤ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –æ—Ö—Ä–∞–Ω—ã.
- üìö **–û–Ω–ª–∞–π–Ω-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞**
  - –∫–∞—Ç–∞–ª–æ–≥ –∫–Ω–∏–≥ (–∞–≤—Ç–æ—Ä, –Ω–∞–∑–≤–∞–Ω–∏–µ, –≥–æ–¥, —Ç–µ–≥–∏);
  - –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–¥–∞—á—É;
  - —É—á—ë—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤.
- üí° **–õ–µ–Ω—Ç–∞ –∏–¥–µ–π**
  - –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–∞–º–ø—É—Å–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏;
  - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ñ–∏–ª—å—Ç—Ä—ã, –ª–∞–π–∫–∏/–¥–∏–∑–ª–∞–π–∫–∏, —Å—Ç–∞—Ç—É—Å—ã –∏–¥–µ–∏.
- üë§ **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
  - –§–ò–û, —Ä–æ–ª—å.

### üë• –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- **student** ‚Äî —Å—Ç—É–¥–µ–Ω—Ç:
  - –ø–æ–¥–∞—ë—Ç –∑–∞—è–≤–∫–∏ –Ω–∞ —Å–ø—Ä–∞–≤–∫–∏, –¥–æ—Å—Ç—É–ø—ã, –∫–Ω–∏–≥–∏;
  - —Å–æ–∑–¥–∞—ë—Ç –∏ –ª–∞–π–∫–∞–µ—Ç –∏–¥–µ–∏;
  - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ–π –ø—Ä–æ–ø—É—Å–∫.
- **staff** ‚Äî —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ä—å, –æ—Ö—Ä–∞–Ω–∞):
  - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ –∫–Ω–∏–≥–∏;
  - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç QR-–ø—Ä–æ–ø—É—Å–∫–∞.
- **admin** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:
  - —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∑–∞—è–≤–æ–∫, –∫–Ω–∏–≥, –∏–¥–µ–π –∏ —Ç.–ø.

---

## üß© 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å—Ö–µ–º–∞:

- **Frontend (MAX mini-app)** 
  React + Vite + `@maxhub/max-ui`
  –†–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ MAX, –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API –ø–æ `/api`

- **Backend (API + bot)**  
  Node.js + TypeScript + Express:
  - REST API –¥–ª—è —Ñ—Ä–æ–Ω—Ç–∞;
  - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MySQL;
  - –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞ MAX;
  - cron-–∑–∞–¥–∞—á–∏ (–ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏—é –≥–æ—Å—Ç–µ–≤—ã—Ö –ø—Ä–æ–ø—É—Å–∫–æ–≤).

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**  
  MySQL 8.0

- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MAX**
  - –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ `x-max-init-data`
  - –±–æ—Ç –Ω–∞ `@maxhub/max-bot-api`
  - web_app –∏–∑ —á–∞—Ç–∞ –±–æ—Ç–∞ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

---

## üõ† 3. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### ‚öôÔ∏è Backend

- **–Ø–∑—ã–∫:** TypeScript (ES2020, CommonJS)
- **Runtime:** Node.js `>= 20`
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** Express `^5.1.0`
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** MySQL 8.0 (`mysql2`)
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `dotenv`
- **–ë–æ—Ç:** `@maxhub/max-bot-api` (GitHub: `FunNikita/max-bot-api-client-ts#main`)
- **–°–±–æ—Ä–∫–∞:** `tsc`
- **Dev-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** `tsx` (watch-—Ä–µ–∂–∏–º)

### üé® Frontend

- **React 18** (`react`, `react-dom`)
- **–°–±–æ—Ä—â–∏–∫/Dev-—Å–µ—Ä–≤–µ—Ä:** Vite `^7`
- **UI:** `@maxhub/max-ui`
- **–ò–∫–æ–Ω–∫–∏:** `@vkontakte/icons`
- **QR:** `@vkontakte/vk-qr`
- **Dev-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:** ESLint 9, `@vitejs/plugin-react`

### üê≥ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **Docker** ‚Äî multi-stage Dockerfile:
  - Stage 1 ‚Äî —Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–∞
  - Stage 2 ‚Äî —Å–±–æ—Ä–∫–∞ backend‚Äô–∞
  - Stage 3 ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π runtime-–æ–±—Ä–∞–∑
- **Docker Compose**:
  - `db` ‚Äî MySQL 8.0
  - `app` ‚Äî backend + –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç
- **–ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** volume `db_data` –¥–ª—è –¥–∞–Ω–Ω—ã—Ö MySQL
- **–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞:**
  - –ë–î: `UTC` (`--default-time-zone=+00:00`)
  - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `Europe/Moscow`

> –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤ –∫–æ—Ä–Ω–µ –µ—Å—Ç—å `requirements.txt`, –≥–¥–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ –≤–µ—Ä—Å–∏–∏ (backend + frontend)

---

## üìÅ 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–û—Å–Ω–æ–≤–Ω–æ–µ:

```text
.
‚îú‚îÄ‚îÄ back/                   # Backend (Node.js + TS + Express + MySQL + bot)
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îú‚îÄ‚îÄ .env.example
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ init.sql        # —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î –∏ –±–∞–∑–æ–≤—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫
‚îÇ   ‚îú‚îÄ‚îÄ logs/               # –ø–∞–ø–∫–∞ –¥–ª—è –ª–æ–≥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ index.ts        # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ backend-–∞
‚îÇ       ‚îú‚îÄ‚îÄ api/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ index.ts    # Express Router —Å–æ –≤—Å–µ–º–∏ /api/* —Ä—É—á–∫–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ db/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ pool.ts     # MySQL-–ø—É–ª
‚îÇ       ‚îú‚îÄ‚îÄ middleware/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ maxAuth.ts
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ maxValidation.ts
‚îÇ       ‚îú‚îÄ‚îÄ utils/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ apiLogger.ts
‚îÇ       ‚îú‚îÄ‚îÄ bot/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ index.ts    # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ cron/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ guestPassCron.ts
‚îÇ       ‚îî‚îÄ‚îÄ modules/        # –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ           ‚îú‚îÄ‚îÄ access/access.service.ts
‚îÇ           ‚îú‚îÄ‚îÄ certificates/certificates.service.ts
‚îÇ           ‚îú‚îÄ‚îÄ passes/passes.service.ts
‚îÇ           ‚îú‚îÄ‚îÄ library/library.service.ts
‚îÇ           ‚îú‚îÄ‚îÄ ideas/ideas.service.ts
‚îÇ           ‚îú‚îÄ‚îÄ users/user.service.ts
‚îÇ           ‚îî‚îÄ‚îÄ health/health.controller.ts
‚îÇ
‚îú‚îÄ‚îÄ front/                  # Frontend (React + Vite + Max UI)
‚îÇ   ‚îú‚îÄ‚îÄ index.html
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ package-lock.json
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.js
‚îÇ   ‚îú‚îÄ‚îÄ eslint.config.js
‚îÇ   ‚îú‚îÄ‚îÄ .env.example
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ main.jsx        # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ       ‚îú‚îÄ‚îÄ App.jsx         # –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ       ‚îú‚îÄ‚îÄ tabs/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ HomeTab.jsx
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ QrTab.jsx
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ProfileTab.jsx
‚îÇ       ‚îú‚îÄ‚îÄ panels/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ AccessPanel.jsx
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ CertificatesPanel.jsx
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ GuestPassesPanel.jsx
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ SecurityPanel.jsx
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ LibraryPanel.jsx
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ IdeasPanel.jsx
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ BottomTabBar.jsx
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ PageHeader.jsx
‚îÇ       ‚îú‚îÄ‚îÄ api/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ index.js    # –æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ /api/* –∑–∞–ø—Ä–æ—Å–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ utils/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ formatDateTime.js
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ getFullName.js
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ useSystemColorScheme.js
‚îÇ       ‚îî‚îÄ‚îÄ assets/
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile              # –æ–±—â–∏–π multi-stage Dockerfile
‚îú‚îÄ‚îÄ docker-compose.yml      # –ø–æ–¥–Ω–∏–º–∞–µ—Ç db + app
‚îú‚îÄ‚îÄ .env.example            # –æ–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–¥–ª—è docker-compose)
‚îú‚îÄ‚îÄ .dockerignore
‚îú‚îÄ‚îÄ requirements.txt        # –æ–ø–∏—Å–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –≤–µ—Ä—Å–∏–π
‚îî‚îÄ‚îÄ README.md               

---

```

## üîê 5. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —á–µ—Ä–µ–∑ Docker –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è.

### 5.1. –ö–æ—Ä–Ω–µ–≤–æ–π `.env` (–¥–ª—è Docker/docker-compose)

–°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

```bash
cp .env.example .env
````

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:

```env
# –†–µ–∂–∏–º –∏ –ø–æ—Ä—Ç backend-–∞
NODE_ENV=production
PORT=3000

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
TZ=Europe/Moscow
APP_TIMEZONE=Europe/Moscow

# MySQL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ db, –∏ app)
DB_HOST=db
DB_PORT=3306
DB_USER=du_user
DB_PASSWORD=du_password
DB_NAME=digital_university
DB_ROOT_PASSWORD=du_root_password

# MAX Bot
MAX_BOT_TOKEN=change_me_bot_token
MAX_WEBAPP_SLUG=t0_hakaton_bot

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
API_LOG_TO_FILE=0
BOT_LOG_TO_FILE=0
```

> –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `docker-compose` `DB_HOST=db` ‚Äî —ç—Ç–æ –∏–º—è —Å–µ—Ä–≤–∏—Å–∞ MySQL –≤–Ω—É—Ç—Ä–∏ docker-—Å–µ—Ç–∏.

### 5.2. Backend –ª–æ–∫–∞–ª—å–Ω–æ (`back/.env`)

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ Docker:

```bash
cd back
cp .env.example .env
```

–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:

```env
NODE_ENV=development
PORT=3000

DB_HOST=127.0.0.1
DB_PORT=3306
DB_USER=du_user
DB_PASSWORD=du_password
DB_NAME=digital_university

MAX_BOT_TOKEN=change_me_bot_token
MAX_WEBAPP_SLUG=t0_hakaton_bot

API_LOG_TO_FILE=0
BOT_LOG_TO_FILE=0
```

### 5.3. Frontend –ª–æ–∫–∞–ª—å–Ω–æ (`front/.env`)

```bash
cd front
cp .env.example .env
```

–ü—Ä–∏–º–µ—Ä:

```env
VITE_API_BASE_URL=http://localhost:3000/api

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ø–æ–¥–¥–µ–ª—å–Ω—ã–µ initData –¥–ª—è dev-—Ä–µ–∂–∏–º–∞
# VITE_MAX_INIT_DATA=auth_date=...&user=%7B...%7D&hash=...
```

---

## üê≥ 6. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:

* —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Docker**;
* —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω **Docker Compose**.

### 6.1. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/FunNikita/MaXline.git digital-university
cd digital-university

# 2. –°–æ–∑–¥–∞—ë–º .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp .env.example .env
# üëâ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (MAX_BOT_TOKEN, –ø–∞—Ä–æ–ª–∏ –ë–î –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

# 3. –°–æ–±–∏—Ä–∞–µ–º –∏ –ø–æ–¥–Ω–∏–º–∞–µ–º —Å–µ—Ä–≤–∏—Å—ã
docker compose up --build
```

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞:

* —Ñ—Ä–æ–Ω—Ç + backend:

  * **[http://localhost:3001/app](http://localhost:3001/app)**
* API:

  * **GET [http://localhost:3001/api/health](http://localhost:3001/api/health)** ‚Äî health-check,
  * –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî **[http://localhost:3001/api/](http://localhost:3001/api/)...**

### 6.2. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏

```bash
docker compose up -d
```

### 6.3. –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker compose down
```

> üí° –î–∞–Ω–Ω—ã–µ –±–∞–∑—ã –ª–µ–∂–∞—Ç –≤ Docker volume `db_data`, –ø–æ—ç—Ç–æ–º—É –ø–æ—Å–ª–µ `docker compose down` –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è. –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞ –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å volume:
> `docker volume rm digital-university_db_data` (–∏–º—è –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è).

---

## üíª 7. –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ Docker

–≠—Ç–æ—Ç —Ä–µ–∂–∏–º —É–¥–æ–±–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –∫–æ–≥–¥–∞ backend –∏ frontend –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ =)

### 7.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ MySQL

1. –ü–æ–¥–Ω–∏–º–∞–µ–º MySQL (–ª–æ–∫–∞–ª—å–Ω–æ –∏–ª–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
2. –°–æ–∑–¥–∞—ë–º –ë–î –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. –ü—Ä–∏–º–µ–Ω—è–µ–º `init.sql`:

```bash
mysql -u du_user -p digital_university < back/db/init.sql
```

> ‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/–ø–∞—Ä–æ–ª—å/–∏–º—è –ë–î –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º, —á—Ç–æ —É–∫–∞–∑–∞–Ω–æ –≤ `back/.env`.

### 7.2. –ó–∞–ø—É—Å–∫ backend-–∞

```bash
cd back
cp .env.example .env      # –µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–ª–∏
# –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–ø—Ä–∞–≤—å—Ç–µ DB_HOST/–ø–∞—Ä–æ–ª–∏
npm ci
npm run dev
```

Backend –ø–æ–¥–Ω–∏–º–µ—Ç—Å—è –Ω–∞:

* **[http://localhost:3000](http://localhost:3000)**

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë –∂–∏–≤–æ:

```bash
curl http://localhost:3000/api/health
```

### 7.3. –ó–∞–ø—É—Å–∫ frontend-–∞

–í –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
cd front
cp .env.example .env       # –µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–ª–∏
# —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ VITE_API_BASE_URL=http://localhost:3000/api
npm ci
npm run dev
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Vite –ø–æ–¥–Ω–∏–º–µ—Ç —Ñ—Ä–æ–Ω—Ç –Ω–∞:

* **[http://localhost:5173](http://localhost:5173)** (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∂–µ—Ç Vite –≤ –∫–æ–Ω—Å–æ–ª–∏)

---

## üìä 8. –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

* Backend –ª–æ–≥–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª—å.
* –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã:

```env
API_LOG_TO_FILE=1
BOT_LOG_TO_FILE=1
```

–§–∞–π–ª—ã –±—É–¥—É—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è –≤ `back/logs/`.

–í–æ —Ñ—Ä–æ–Ω—Ç–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –æ—Ç–ª–∞–¥–∫–∏ –≤ –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `eruda` ‚Äî –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø—Ä—è–º–æ –≤ –≤–µ–±–≤—å—é. –û—Å—Ç–∞–≤–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ =)

---

## üó∫Ô∏è 9. –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è:

* üîÑ –≤—ã–Ω–µ—Å–µ–Ω–∏–µ —Ç—è–∂—ë–ª—ã—Ö –∑–∞–¥–∞—á (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF-—Å–ø—Ä–∞–≤–æ–∫) –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –æ—á–µ—Ä–µ–¥–∏;
* üìà –∞–¥–º–∏–Ω—Å–∫–∏–µ –¥–∞—à–±–æ—Ä–¥—ã –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤/—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤;
* üß© –º–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –ø–∞—Ä—É –∫–ª–∏–∫–æ–≤);
* üåç –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (RU/EN);
* üõ°Ô∏è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Ä–æ–ª–µ–π –∏ –ø—Ä–∞–≤ (RBAC).

---
